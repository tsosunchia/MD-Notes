# 2021-11-29 深信服二面 电话面 54min

- 自我介绍
- Java 实际项目经验多长时间？
- ArrayList 和 LinkedList 的区别？
  - Array 和 ArrayList 区别？
  - 在存储元素上有什么区别？可以存基本数据类型/包装吗？
  - Array 转 List 怎么转？List 转 Array 怎么转？
  - foreach 进行循环的时候，把某个元素删除了，增删的时候会下标报错，怎么修改？
  - fastfail 机制，底层怎么做的？
- LinkedHashMap 底层是怎么做的？
- 多线程，用过哪些线程池？
  - 有什么需要注意的地方？答了下 7 个参数
  - 向线程池提交任务的时候，submit 和 execute 有什么区别？
  - 任务队列有哪些？阻塞队列说一个吧？ArrayBlockingQueue，它是有界的还是无界的？
  - 拒绝策略有哪几种？
  - 10个线程操作一个共同的变量，如何控制？答 syncronized。一定要加锁吗？还有别的方法吗？
  - CountDownLatch 用过吗？
  - Executors 默认的 4 种线程池是哪四种？
- MySQL
  - B+ 树结构？
  - 一条 SQL 查询语句的执行流程是怎样的？
  - 更新语句的执行流程是怎样的？
- Redis 缓存击穿、穿透、雪崩
  - 分别解释一下？
  - 分别怎么解决？
  - 如何保证缓存和数据库的双写一致性？2PC / Paxos。说一下细节。
- zk 做分布式锁怎么实现的？
- 说一下对 CAP 的理解
- 用过哪些消息队列？kafka
  - kafka 为什么快？零拷贝在哪个模块用到了？
  - 为什么用消息队列？有什么好处？举例子说下
  - 消息队列有什么缺点？
  - 怎么保证消息不被重复消费？consumer 没来得及提交 offset 就挂了，怎么保证不重复消费？
  - 怎么保证幂等性？怎么避免重复扣费？比如打一个状态
  - 怎么保证消息的可靠传输？丢数据可能发生在 kafka自己，生产者，消费者，说一下消费者什么情况下会丢数据？怎么解决？把 kafka 自动提交关掉，改成手动提交，如果没来得及提交就挂掉，就有回到刚才的问题，保证不重复消费就可以了
- HDFS？仅用过
- 文档型数据库 ES？仅了解过，没用过
- 推荐系统数据流讲一下吧？聊项目
- 反问环节
  - 现在这个组主要什么方向？现在这个组主要做安全，探针，日志接入进来，经过自己数据模型、策略，进 kafka，然后进下游的库，存起来。我们主要做大数据页面可视化，软件方向；存储相关的基本上是大数据组里自己搞的
  - 主要什么语言？软件 Java 多一些，安全 C/C++ 多一些，其他语言也有
  - 我们组去年新成立的，后面会做一些市面上竞争产品的预研，可能把其他部门的单体功能集成进来成一个大的模块
  - 如果去了主要做啥？基础架构组的话，打包流程，流水线，技术预研，业务开发的话要看用户需求，去之后不合适可以调剂

